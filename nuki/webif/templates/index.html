{% extends "base_plugin.html" %}

{% set logo_frame = false %}
{% set use_bodytabs = true %}

{% set tab1title = "GFGFDG" %}

{% block headtable %}
<table class="table table-striped table-hover">
	<tbody>

		<tr>
			<td class="py-1"><strong>{{ _('Token') }}</strong></td>
			<td class="py-1">{{ p._token }}</td>
			<td class="py-1"><strong>{{ _('Callback URL (SHNG)') }}</strong></td>
			<td class="py-1">{{ p._callback_ip }}:{{ p._callback_port }}</td>
		</tr>
		<tr>
			<td class="py-1"><strong>{{ _('NoWait') }}</strong></td>
			<td class="py-1">{{ p._noWait }}</td>
			<td class="py-1"><strong>{{ _('Base URL (Nuki Bridge)') }}</strong></td>
			<td class="py-1">{{ p._base_url }}</td>
		</tr>
	</tbody>
</table>
{% endblock %}

{% block bodytab1 %}

<div class="table-responsive" style="margin-left: 2px; margin-right: 2px;" class="row">
	<div class="col-sm-12">
		<h5>{{ _('Nuki Event Items') }} ({{ p.get_event_items()|length }})</h5>

		<table class="table table-striped table-hover pluginList">
			<thead>
				<tr class="shng_heading">
					<th style="width: 500px;">{{ _('Pfad') }}</th>
					<th>{{ _('Typ') }}</th>
					<th>{{ _('Nuki ID') }}</th>
					<th>{{ _('Wert') }}</th>
					<th>{{ _('Letztes Update') }}</th>
					<th>{{ _('Letzter Change') }}</th>
				</tr>
			</thead>
			<tbody>
				{% for item, value in p.get_event_items().items() %}
					<tr id="{{ loop.index }}_click">
						<td class="py-1">{{ item.id() }}</td>
						<td class="py-1">{{ item.type() }}</td>
						<td class="py-1">{{ value }}</td>
						<td class="py-1">{{ item() }}</td>
						<td class="py-1">{{ item.last_update().strftime('%d.%m.%Y %H:%M:%S') }}</td>
						<td class="py-1">{{ item.last_change().strftime('%d.%m.%Y %H:%M:%S') }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<h5>{{ _('Nuki Action Items') }} ({{ p.get_action_items()|length }})</h5>

		<table class="table table-striped table-hover pluginList">
			<thead>
				<tr class="shng_heading">
					<th style="width: 500px;">{{ _('Pfad') }}</th>
					<th>{{ _('Typ') }}</th>
					<th>{{ _('Nuki ID') }}</th>
					<th>{{ _('Wert') }}</th>
					<th>{{ _('Letztes Update') }}</th>
					<th>{{ _('Letzter Change') }}</th>
				</tr>
			</thead>
			<tbody>
				{% for item, value in p.get_action_items().items() %}
					<tr id="{{ loop.index }}_click">
						<td class="py-1">{{ item.id() }}</td>
						<td class="py-1">{{ item.type() }}</td>
						<td class="py-1">{{ value }}</td>
						<td class="py-1">{{ item() }}</td>
						<td class="py-1">{{ item.last_update().strftime('%d.%m.%Y %H:%M:%S') }}</td>
						<td class="py-1">{{ item.last_change().strftime('%d.%m.%Y %H:%M:%S') }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
		<h5>{{ _('Nuki Battery Items') }} ({{ p.get_battery_items()|length }})</h5>

		<table class="table table-striped table-hover pluginList">
			<thead>
				<tr class="shng_heading">
					<th style="width: 500px;">{{ _('Pfad') }}</th>
					<th>{{ _('Typ') }}</th>
					<th>{{ _('Nuki ID') }}</th>
					<th>{{ _('Wert') }}</th>
					<th>{{ _('Letztes Update') }}</th>
					<th>{{ _('Letzter Change') }}</th>
				</tr>
			</thead>
			<tbody>
				{% for item, value in p.get_battery_items().items() %}
					<tr id="{{ loop.index }}_click">
						<td class="py-1">{{ item.id() }}</td>
						<td class="py-1">{{ item.type() }}</td>
						<td class="py-1">{{ value }}</td>
						<td class="py-1">{{ item() }}</td>
						<td class="py-1">{{ item.last_update().strftime('%d.%m.%Y %H:%M:%S') }}</td>
						<td class="py-1">{{ item.last_change().strftime('%d.%m.%Y %H:%M:%S') }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>

{% endblock %}
