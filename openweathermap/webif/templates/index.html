{% extends "base_plugin.html" %}

{% set logo_frame = false %}
{% set use_bodytabs = true %}
{% set tabcount = 10 %}
{% set tab1title = 'Items' %}
{% set tab2title = 'JSON Data (weather)' %}
{% set tab3title = 'JSON Data (forecast)' %}
{% set tab4title = 'JSON Data (uvi)' %}
{% set tab5title = 'JSON Data (onecall)' %}
{% set tab6title = 'JSON Data (onecall-0)' %}
{% set tab7title = 'JSON Data (onecall-1)' %}
{% set tab8title = 'JSON Data (onecall-2)' %}
{% set tab9title = 'JSON Data (onecall-3)' %}
{% set tab10title = 'JSON Data (onecall-4)' %}

{% block headtable %}
{% endblock %}

{% block bodytab1 %}
<div class="table-responsive" style="margin-left: 2px; margin-right: 2px;" class="row">
	<div class="col-sm-12">
		<h5>OpenWeatherMap Plugin Items ({{ p.get_items()|length }})</h5>

		<table class="table table-striped table-hover pluginList">
			<thead>
				<tr class="shng_heading">
					<th>Pfad</th>
					<th>Typ</th>
					<th>owm_matchstring</th>
					<th>Wert</th>
					<th>Letztes Update</th>
					<th>Letzter Change</th>
				</tr>
			</thead>
			<tbody>
				{% for key, item in p.get_items().items() %}
					<tr id="{{ loop.index }}_click">
						<td class="py-1">{{ item[1].property.path }}</td>
						<td class="py-1">{{ item[1].property.type }}</td>
						<td class="py-1">{{ item[0] }}</td>
						<td class="py-1">{% if key in ['precipitation_new', 'clouds_new', 'pressure_new', 'wind_new', 'temp_new'] %}<a class="text-shng" target="_blank" href="{{ item() }}">{{ item[1]() }}</a>{% else %} {{ item[1]() }} {% endif %}</td>
						<td class="py-1">{{ item[1].property.last_update.strftime('%d.%m.%Y %H:%M:%S') }}<br />{{ item[1].property.last_update_by }}</td>
						<td class="py-1">{{ item[1].property.last_change.strftime('%d.%m.%Y %H:%M:%S') }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}
{% block bodytab2 %}

<div class="container-fluid m-2">
	{{ json_data_weather }}
</div>

{% endblock %}
{% block bodytab3 %}

<div class="container-fluid m-2">
	{{ json_data_forecast }}
</div>

{% endblock %}
{% block bodytab4 %}

<div class="container-fluid m-2">
	{{ json_data_uvi }}
</div>

{% endblock %}
{% block bodytab5 %}

<div class="container-fluid m-2">
	{{ json_data_onecall }}
</div>

{% endblock %}
{% block bodytab6 %}

<div class="container-fluid m-2">
	{{ json_data_back0day }}
</div>

{% endblock %}
{% block bodytab7 %}

<div class="container-fluid m-2">
	{{ json_data_back1day }}
</div>

{% endblock %}
{% block bodytab8 %}

<div class="container-fluid m-2">
	{{ json_data_back2day }}
</div>

{% endblock %}
{% block bodytab9 %}

<div class="container-fluid m-2">
	{{ json_data_back3day }}
</div>

{% endblock %}
{% block bodytab10 %}

<div class="container-fluid m-2">
	{{ json_data_back4day }}
</div>

{% endblock %}
